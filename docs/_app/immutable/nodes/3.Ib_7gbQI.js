import{H as Ce,s as ze,g as Ne}from"../chunks/CQQ-5O4E.js";import{c as Se,a as $,t as L}from"../chunks/rnQvWc0o.js";import{aq as He,x as be,y as N,z as ye,ar as ce,A as Ee,B as fe,C as j,D as B,U as de,as as F,at as ae,m as oe,G,q as xe,J as q,b as _e,a as he,au as me,X as De,F as re,I as ee,an as $e,L as ke,W as qe,g as b,af as Le,O as Me,av as we,T as Ae,i as Re,aw as se,f as pe,ax as ue,ay as Oe,az as ve,aA as Ue,R as Be,aB as Fe,$ as Ge,aC as Pe,M as Ve,p as We,s as R,h as O,j as ne,a0 as Xe,o as Ye,k as z,l as U,v as T,aa as Y}from"../chunks/CTVezB-V.js";import{s as J}from"../chunks/C4GX93-r.js";import{d as Je}from"../chunks/C3isqEZz.js";import{f as Ze,b as Ke}from"../chunks/C7RkIz-q.js";import{b as Qe}from"../chunks/RE_D-B2j.js";import{s as je,a as ea}from"../chunks/DEHvf8ht.js";const ie=0,Z=1,le=2;function aa(t,e,r,d,y){N&&ye();var f=t,_=He(),h=De,m=de,p,i,I,s=(_?ae:oe)(void 0),u=(_?ae:oe)(void 0),a=!1;function v(l,c){a=!0,c&&(_e(g),he(g),me(h));try{l===ie&&r&&(p?re(p):p=G(()=>r(f))),l===Z&&d&&(i?re(i):i=G(()=>d(f,s))),l!==ie&&p&&ee(p,()=>p=null),l!==Z&&i&&ee(i,()=>i=null),l!==le&&I&&ee(I,()=>I=null)}finally{c&&(me(null),he(null),_e(null),$e())}}var g=be(()=>{if(m===(m=e()))return;let l=N&&ce(m)===(f.data===Ee);if(l&&(f=fe(),j(f),B(!1),l=!0),ce(m)){var c=m;a=!1,c.then(E=>{c===m&&(F(s,E),v(Z,!0))},E=>{if(c===m)throw F(u,E),v(le,!0),u.v}),N?r&&(p=G(()=>r(f))):xe(()=>{a||v(ie,!0)})}else F(s,m),v(Z,!1);return l&&B(!0),()=>m=de});N&&(f=q)}function K(t,e){return e}function ra(t,e,r,d){for(var y=[],f=e.length,_=0;_<f;_++)Ue(e[_].e,y,!0);var h=f>0&&y.length===0&&r!==null;if(h){var m=r.parentNode;Be(m),m.append(r),d.clear(),S(t,e[0].prev,e[f-1].next)}Fe(y,()=>{for(var p=0;p<f;p++){var i=e[p];h||(d.delete(i.k),S(t,i.prev,i.next)),Ge(i.e,!h)}})}function Q(t,e,r,d,y,f=null){var _=t,h={flags:e,items:new Map,first:null},m=(e&we)!==0;if(m){var p=t;_=N?j(ke(p)):p.appendChild(qe())}N&&ye();var i=null,I=!1,s=Le(()=>{var u=r();return Re(u)?u:u==null?[]:Ae(u)});be(()=>{var u=b(s),a=u.length;if(I&&a===0)return;I=a===0;let v=!1;if(N){var g=_.data===Ee;g!==(a===0)&&(_=fe(),j(_),B(!1),v=!0)}if(N){for(var l=null,c,E=0;E<a;E++){if(q.nodeType===8&&q.data===Me){_=q,v=!0,B(!1);break}var n=u[E],o=d(n,E);c=Ie(q,h,l,null,n,o,E,y,e,r),h.items.set(o,c),l=c}a>0&&j(fe())}N||ta(u,h,_,y,e,d,r),f!==null&&(a===0?i?re(i):i=G(()=>f(_)):i!==null&&ee(i,()=>{i=null})),v&&B(!0),b(s)}),N&&(_=q)}function ta(t,e,r,d,y,f,_){var P,V,k,W;var h=(y&Oe)!==0,m=(y&(ve|ue))!==0,p=t.length,i=e.items,I=e.first,s=I,u,a=null,v,g=[],l=[],c,E,n,o;if(h)for(o=0;o<p;o+=1)c=t[o],E=f(c,o),n=i.get(E),n!==void 0&&((P=n.a)==null||P.measure(),(v??(v=new Set)).add(n));for(o=0;o<p;o+=1){if(c=t[o],E=f(c,o),n=i.get(E),n===void 0){var te=s?s.e.nodes_start:r;a=Ie(te,e,a,a===null?e.first:a.next,c,E,o,d,y,_),i.set(E,a),g=[],l=[],s=a.next;continue}if(m&&sa(n,c,o,y),(n.e.f&se)!==0&&(re(n.e),h&&((V=n.a)==null||V.unfix(),(v??(v=new Set)).delete(n))),n!==s){if(u!==void 0&&u.has(n)){if(g.length<l.length){var H=l[0],x;a=H.prev;var C=g[0],w=g[g.length-1];for(x=0;x<g.length;x+=1)ge(g[x],H,r);for(x=0;x<l.length;x+=1)u.delete(l[x]);S(e,C.prev,w.next),S(e,a,C),S(e,w,H),s=H,a=w,o-=1,g=[],l=[]}else u.delete(n),ge(n,s,r),S(e,n.prev,n.next),S(e,n,a===null?e.first:a.next),S(e,a,n),a=n;continue}for(g=[],l=[];s!==null&&s.k!==E;)(s.e.f&se)===0&&(u??(u=new Set)).add(s),l.push(s),s=s.next;if(s===null)continue;n=s}g.push(n),a=n,s=n.next}if(s!==null||u!==void 0){for(var A=u===void 0?[]:Ae(u);s!==null;)(s.e.f&se)===0&&A.push(s),s=s.next;var D=A.length;if(D>0){var M=(y&we)!==0&&p===0?r:null;if(h){for(o=0;o<D;o+=1)(k=A[o].a)==null||k.measure();for(o=0;o<D;o+=1)(W=A[o].a)==null||W.fix()}ra(e,A,M,i)}}h&&xe(()=>{var X;if(v!==void 0)for(n of v)(X=n.a)==null||X.apply()}),pe.first=e.first&&e.first.e,pe.last=a&&a.e}function sa(t,e,r,d){(d&ve)!==0&&F(t.v,e),(d&ue)!==0?F(t.i,r):t.i=r}function Ie(t,e,r,d,y,f,_,h,m,p){var i=(m&ve)!==0,I=(m&Pe)===0,s=i?I?oe(y):ae(y):y,u=(m&ue)===0?_:ae(_),a={i:u,v:s,k:f,a:null,e:null,prev:r,next:d};try{return a.e=G(()=>h(t,s,u,p),N),a.e.prev=r&&r.e,a.e.next=d&&d.e,r===null?e.first=a:(r.next=a,r.e.next=a.e),d!==null&&(d.prev=a,d.e.prev=a.e),a}finally{}}function ge(t,e,r){for(var d=t.next?t.next.e.nodes_start:r,y=e?e.e.nodes_start:r,f=t.e.nodes_start;f!==d;){var _=Ve(f);y.before(f),f=_}}function S(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function na(t,e){throw new Ce(t,e)}new TextEncoder;const Te=["months","quarters","half-year","years"];function ia({params:t}){const{range:e}=t;if(!Te.includes(e))return na(404)}const la=()=>[{range:"months"},{range:"quarters"},{range:"half-year"},{range:"years"}],Ia=Object.freeze(Object.defineProperty({__proto__:null,entries:la,load:ia},Symbol.toStringTag,{value:"Module"})),fa=()=>{const t=ze;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},oa={subscribe(t){return fa().page.subscribe(t)}};var ua=(t,e,r)=>{Ne(`/by-month-table/${b(e)}`),r()},va=L("<option> </option>"),ca=L('<th class="svelte-1azhefm"> </th>'),da=L('<td class="number svelte-1azhefm"> </td>'),_a=L('<tr class="svelte-1azhefm"><td class="sticky svelte-1azhefm"> </td><!></tr>'),ha=L('<div class="wrapper svelte-1azhefm"><div class="controls-container svelte-1azhefm"><label for="range-select">Select Range:</label> <select id="range-select"></select></div> <div class="table-container svelte-1azhefm"><table class="svelte-1azhefm"><thead><tr><th class="sticky svelte-1azhefm"></th><!></tr></thead><tbody class="svelte-1azhefm"></tbody></table></div></div>'),ma=L("<div>Loading...</div>");function Ta(t,e){We(e,!0);const[r,d]=ea(),y=()=>je(oa,"$page",r);let f=O(void 0),_=Ze().then(a=>{R(f,a,!0),I(),requestAnimationFrame(()=>{b(i)&&(b(i).scrollLeft=b(i).scrollWidth)})}),h=O(ne(y().params.range)),m=O(ne([])),p=O(ne([])),i=O(void 0);function I(){if(b(f)==null)throw new Error("Data is not loaded");const a=b(f)[b(h)==="months"?"months_data":b(h)==="quarters"?"quarters_data":b(h)==="half-year"?"half_year_data":"years_data"];let v=[a.all_series,...a.series,...a.individual_series];v=v.filter((g,l)=>v.findIndex(c=>c.name===g.name)===l),v.sort((g,l)=>{const c=g.data.at(-1);return l.data.at(-1)-c}),R(m,a.header,!0),R(p,v,!0)}var s=Se(),u=Xe(s);aa(u,()=>_,a=>{var v=ma();$(a,v)},a=>{var v=ha(),g=z(v),l=U(z(g),2);l.__change=[ua,h,I],Q(l,21,()=>Te,K,(x,C)=>{var w=va(),A={},D=z(w,!0);T(w),Y(M=>{A!==(A=b(C))&&(w.value=(w.__value=b(C))??""),J(D,M)},[()=>b(C).charAt(0).toUpperCase()+b(C).slice(1)]),$(x,w)}),T(l),T(g);var c=U(g,2),E=z(c),n=z(E),o=z(n),te=U(z(o));Q(te,17,()=>b(m),K,(x,C)=>{var w=ca(),A=z(w,!0);T(w),Y(()=>J(A,b(C))),$(x,w)}),T(o),T(n);var H=U(n);Q(H,21,()=>b(p),K,(x,C)=>{var w=_a(),A=z(w),D=z(A,!0);T(A);var M=U(A);Q(M,17,()=>b(C).data,K,(P,V)=>{var k=da(),W=z(k,!0);T(k),Y(X=>J(W,X),[()=>Math.floor(b(V)).toLocaleString()]),$(P,k)}),T(w),Y(()=>J(D,b(C).name)),$(x,w)}),T(H),T(E),T(c),Qe(c,x=>R(i,x),()=>b(i)),T(v),Ke(l,()=>b(h),x=>R(h,x)),$(a,v)}),$(t,s),Ye(),d()}Je(["change"]);export{Ta as component,Ia as universal};
