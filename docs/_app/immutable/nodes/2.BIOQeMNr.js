import{i as za,_ as Ga}from"../chunks/95y0HvCI.js";import{t as qa,b as Na}from"../chunks/BepMncb2.js";import{j as x,a8 as Ka,a9 as Ja,aa as Qa,ab as Wa,ac as Xa,u as Za,r as ae,N as ee,ad as f,ae as wa,a5 as v,a7 as i,a4 as te,g as e,P as oe,s as m,a6 as d,af as Ra}from"../chunks/BOMHANS_.js";import{d as ie}from"../chunks/zi6PulGB.js";import{a as ne,l as se,b as ya,c as re,f as N}from"../chunks/DaYolD9I.js";import{b as Ia}from"../chunks/C9kmxJ6c.js";import{o as le}from"../chunks/B6dKC9Gf.js";import{b as _e}from"../chunks/Caj5cjcj.js";function pe(a,o){return a==null?null:String(a)}function ue(a,o,n,s){var p=a.__style;if(x||p!==o){var h=pe(o);(!x||h!==a.getAttribute("style"))&&(h==null?a.removeAttribute("style"):a.style.cssText=h),a.__style=o}return s}const ve=Symbol("is custom element"),de=Symbol("is html");function La(a){if(x){var o=!1,n=()=>{if(!o){if(o=!0,a.hasAttribute("value")){var s=a.value;Ta(a,"value",null),a.value=s}if(a.hasAttribute("checked")){var p=a.checked;Ta(a,"checked",null),a.checked=p}}};a.__on_r=n,Wa(n),ne()}}function Ta(a,o,n,s){var p=ce(a);x&&(p[o]=a.getAttribute(o),o==="src"||o==="srcset"||o==="href"&&a.nodeName==="LINK")||p[o]!==(p[o]=n)&&(o==="loading"&&(a[Xa]=n),n==null?a.removeAttribute(o):typeof n!="string"&&fe(a).includes(o)?a[o]=n:a.setAttribute(o,n))}function ce(a){return a.__attributes??(a.__attributes={[ve]:a.nodeName.includes("-"),[de]:a.namespaceURI===Ka})}var Ba=new Map;function fe(a){var o=Ba.get(a.nodeName);if(o)return o;Ba.set(a.nodeName,o=[]);for(var n,s=a,p=Element.prototype;p!==s;){n=Qa(s);for(var h in n)n[h].set&&o.push(h);s=Ja(s)}return o}function Oa(a,o,n=o){se(a,"change",s=>{var p=s?a.defaultChecked:a.checked;n(p)}),(x&&a.defaultChecked!==a.checked||Za(o)==null)&&n(a.checked),ae(()=>{var s=o();a.checked=!!s})}var me=(a,o,n)=>{o(),n()},he=async(a,o,n,s)=>{await o(),n(),s()},ge=async(a,o,n,s)=>{await o(),n(),s()},be=qa("<select><option>Topp 1</option><option>Topp 2</option><option>Topp 3</option><option>Topp 4</option><option>Topp 5</option><option>Topp 6</option><option>Topp 7</option><option>Topp 8</option><option>Topp 9</option><option>Topp 10</option><option>Topp 11</option><option>Topp 12</option><option>Topp 13</option><option>Topp 14</option><option>Topp 15</option><option>Topp 16</option><option>Topp 17</option><option>Topp 18</option><option>Topp 19</option><option>Topp 20</option></select>"),we=(a,o)=>o(),ye=(a,o)=>o(),Te=qa('<div class="full-height-container svelte-1wlsadb"><div class="controls svelte-1wlsadb"><select><optgroup label="Føst kalendara tíðarskeið"><option>Mánaða</option> <option>ársfjóring</option> <option>Hálvár</option> <option>Ár</option></optgroup><optgroup label="Føst tíðarskeið frá nýggjastu data av"><option>Seinastu 3 mánaðir</option> <option>Seinastu 6 mánaðir</option> <option>Seinastu 12 mánaðir</option></optgroup><optgroup label="Mánaði við rullandi miðal"><option>3 mánaðir</option> <option>6 mánaðir</option> <option>12 mánaðir</option></optgroup></select> <div class="preset-filter-wrapper svelte-1wlsadb"><label style="white-space: nowrap"><span>Individuel lond</span> <select><option>Tilsamans</option><option>Eingin lond</option><option>Bert Russland</option><option>Topp N lond</option></select></label> <!></div> <label style="white-space: nowrap"><input type="checkbox"> Vís Tilsamans</label> <label><input type="checkbox"> Tak Russland úr tilsamans</label> <span style="white-space: nowrap"><a>Tabell við øllum data</a></span></div> <div class="content svelte-1wlsadb"><div class="main-chart-wrapper svelte-1wlsadb"><div></div></div> <div class="brush-chart-wrapper svelte-1wlsadb"><div></div></div></div></div>');function Ce(a,o){ee(o,!0);let n=f("only_russia"),s=f(10),p=f(!1),h=f(!1),R=f(void 0),I=f(void 0),c=f("last-3-months"),k=f(wa([])),A=f(wa([])),b=f(wa({data:[],name:""})),L,B,O=f(void 0),q=f(void 0),F=null,_;function w(t){return{name:t.name,data:t.data.map((u,r)=>[e(k)[r],u])}}function Pa(){const t=e(A).find(r=>r.name==="Russland")||(_==null?void 0:_.months_data.individual_series.find(r=>r.name==="Russland"));return t?{data:e(b).data.map((r,l)=>{const g=t.data[l]||0;return Math.round((r-g)*100)/100}),name:"Tilsamans (uttan Russland)"}:{...e(b),name:"Tilsamans (uttan Russland)"}}async function P(){if(e(n)==="top_list"){const t=re.series.slice(0,e(s)).map(u=>u.name);_=await N(t)}else if(e(n)==="only_russia")_=await N(["Russland"]);else if(e(n)==="none")_=await N();else if(e(n)==="sum")_=await N();else{const t=e(n);throw new Error("Invalid preset: "+t)}}le(async()=>{await P(),E();const t=e(k)[e(k).length-1],u=new Date;u.setFullYear(t.getFullYear()-6),m(O,{chart:{id:"main_chart",height:"100%",type:"line",zoom:{enabled:!1}},colors:["#e6194B","#ffe119","#3cb44b","#42d4f4","#4363d8","#911eb4","#aaffc3","#f58231","#f032e6","#000075","#800000","#99d8f6","#bfef45","#ffd8b1","#dcbeff","#e5a5d5","#ff8c00","#46f0f0","#fffac8","#fabebe","#008080","#775DD0","#1E90FF","#32CD32","#FF4500","#FF1493","#C71585","#6A5ACD","#20B2AA"],stroke:{width:3,curve:"monotoneCubic"},series:[...e(A).map(l=>w(l))],xaxis:{type:"datetime",tooltip:{enabled:!1}},yaxis:{labels:{formatter(l){return Math.round(l).toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})}}}},!0),m(q,{series:[w(e(b))],chart:{id:"brush_chart",height:"100%",type:"area",brush:{target:"main_chart",enabled:!0},selection:{enabled:!0,xaxis:{min:u.getTime(),max:t.getTime()}},events:{brushScrolled(...l){const g=l[1];console.log("brush selection",g.xaxis.min,g.xaxis.max),F=[g.xaxis.min,g.xaxis.max]}}},colors:["#008FFB"],fill:{type:"gradient",gradient:{opacityFrom:.91,opacityTo:.1}},xaxis:{type:"datetime",tooltip:{enabled:!1}},yaxis:{labels:{formatter(l){return Math.round(l).toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0})}}}},!0);const r=(await Ga(async()=>{const{default:l}=await import("../chunks/DzLBnlhl.js");return{default:l}},[],import.meta.url)).default;window.ApexCharts=r,L=new r(e(R),e(O)),B=new r(e(I),e(q)),L.render(),B.render()});function E(){if(_==null)throw new Error("Data not loaded");let t;if(e(c)==="months")t=_.months_data;else if(e(c)==="quarters")t=_.quarters_data;else if(e(c)==="half-year")t=_.half_year_data;else if(e(c)==="years")t=_.years_data;else if(e(c)==="rolling-3-months")t=_.rolling_3_months_data;else if(e(c)==="rolling-6-months")t=_.rolling_6_months_data;else if(e(c)==="rolling-12-months")t=_.rolling_12_months_data;else if(e(c)==="last-3-months")t=_.last_3_months_data;else if(e(c)==="last-6-months")t=_.last_6_months_data;else if(e(c)==="last-12-months")t=_.last_12_months_data;else throw new Error("Invalid range");m(k,t.dates,!0),m(A,t.series,!0),m(b,t.all_series,!0)}function y(){if(e(O)==null||e(q)==null)throw new Error("Chart options not loaded");let t;if(e(n)==="sum")t=[w(e(b))];else{const r=[...e(A).map(l=>w(l))];if(e(p))if(e(h)){const l=Pa();r.push(w(l))}else r.push(w(e(b)));t=r}L.updateSeries(t);const u={series:[w(e(b))]};F&&(u.chart={selection:{xaxis:{min:F[0],max:F[1]}}}),B.updateOptions(u)}var j=Te(),H=v(j),T=v(H);T.__change=[me,E,y];var Y=v(T),U=v(Y);U.value=U.__value="months";var V=i(U,2);V.value=V.__value="quarters";var $=i(V,2);$.value=$.__value="half-year";var xa=i($,2);xa.value=xa.__value="years",d(Y);var z=i(Y),G=v(z);G.value=G.__value="last-3-months";var K=i(G,2);K.value=K.__value="last-6-months";var ka=i(K,2);ka.value=ka.__value="last-12-months",d(z);var Aa=i(z),J=v(Aa);J.value=J.__value="rolling-3-months";var Q=i(J,2);Q.value=Q.__value="rolling-6-months";var Fa=i(Q,2);Fa.value=Fa.__value="rolling-12-months",d(Aa),d(T);var W=i(T,2),X=v(W),S=i(v(X),2);S.__change=[he,P,E,y];var Z=v(S);Z.value=Z.__value="sum";var aa=i(Z);aa.value=aa.__value="none";var ea=i(aa);ea.value=ea.__value="only_russia";var Ea=i(ea);Ea.value=Ea.__value="top_list",d(S),d(X);var ja=i(X,2);{var Ha=t=>{var u=be();u.__change=[ge,P,E,y];var r=v(u);r.value=r.__value=1;var l=i(r);l.value=l.__value=2;var g=i(l);g.value=g.__value=3;var ia=i(g);ia.value=ia.__value=4;var na=i(ia);na.value=na.__value=5;var sa=i(na);sa.value=sa.__value=6;var ra=i(sa);ra.value=ra.__value=7;var la=i(ra);la.value=la.__value=8;var _a=i(la);_a.value=_a.__value=9;var pa=i(_a);pa.value=pa.__value=10;var ua=i(pa);ua.value=ua.__value=11;var va=i(ua);va.value=va.__value=12;var da=i(va);da.value=da.__value=13;var ca=i(da);ca.value=ca.__value=14;var fa=i(ca);fa.value=fa.__value=15;var ma=i(fa);ma.value=ma.__value=16;var ha=i(ma);ha.value=ha.__value=17;var ga=i(ha);ga.value=ga.__value=18;var ba=i(ga);ba.value=ba.__value=19;var Ca=i(ba);Ca.value=Ca.__value=20,d(u),ya(u,()=>e(s),$a=>m(s,$a)),Na(t,u)};za(ja,t=>{e(n)==="top_list"&&t(Ha)})}d(W);var ta=i(W,2),D=v(ta);La(D),D.__change=[we,y],Ra(),d(ta);var M=i(ta,2),C=v(M);La(C),C.__change=[ye,y],Ra(),d(M);var Sa=i(M,2),Ya=v(Sa);Ta(Ya,"href",`${_e??""}/by-month-table/months`),d(Sa),d(H);var Da=i(H,2),oa=v(Da),Ua=v(oa);Ia(Ua,t=>m(R,t),()=>e(R)),d(oa);var Ma=i(oa,2),Va=v(Ma);Ia(Va,t=>m(I,t),()=>e(I)),d(Ma),d(Da),d(j),te(()=>{D.disabled=e(n)==="sum",ue(M,`white-space: nowrap; ${e(p)?"":"display: none;"}`),C.disabled=e(n)==="sum"||!e(p)}),ya(T,()=>e(c),t=>m(c,t)),ya(S,()=>e(n),t=>m(n,t)),Oa(D,()=>e(p),t=>m(p,t)),Oa(C,()=>e(h),t=>m(h,t)),Na(a,j),oe()}ie(["change"]);export{Ce as component};
