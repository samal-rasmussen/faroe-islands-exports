import{i as Sa,_ as Ba}from"../chunks/Cf6U1nxo.js";import{t as Fa,a as ya}from"../chunks/rnQvWc0o.js";import{p as ja,h as s,j as _a,k as n,l as o,g as t,o as qa,s as _,v as l,w as Ia}from"../chunks/CTVezB-V.js";import{d as Ma}from"../chunks/C3isqEZz.js";import{b as va,a as Ra,f as ua}from"../chunks/C7RkIz-q.js";import{b as Ta}from"../chunks/RE_D-B2j.js";import{o as Oa}from"../chunks/ebdBQxZZ.js";var Pa=(f,c,p)=>{c(),p()},Ya=async(f,c,p,m)=>{await c(),p(),m()},za=async(f,c,p,m)=>{await c(),p(),m()},Ha=Fa("<select><option>Topp 1</option><option>Topp 2</option><option>Topp 3</option><option>Topp 4</option><option>Topp 5</option><option>Topp 6</option><option>Topp 7</option><option>Topp 8</option><option>Topp 9</option><option>Topp 10</option><option>Topp 11</option><option>Topp 12</option><option>Topp 13</option><option>Topp 14</option><option>Topp 15</option><option>Topp 16</option><option>Topp 17</option><option>Topp 18</option><option>Topp 19</option><option>Topp 20</option></select>"),La=Fa('<div class="full-height-container svelte-1wlsadb"><div class="controls svelte-1wlsadb"><select><optgroup label="Føst kalendara tíðarskeið"><option>Mánaða</option> <option>ársfjóring</option> <option>Hálvár</option> <option>Ár</option></optgroup><optgroup label="Føst tíðarskeið frá nýggjastu data av"><option>Seinastu 3 mánaðir</option> <option>Seinastu 6 mánaðir</option> <option>Seinastu 12 mánaðir</option></optgroup><optgroup label="Mánaði við rullandi miðal"><option>3 mánaðir</option> <option>6 mánaðir</option> <option>12 mánaðir</option></optgroup></select> <div class="preset-filter-wrapper svelte-1wlsadb"><label style="white-space: nowrap"><span>Individuel lond</span> <select><option>Eingin lond</option><option>Bert Russland</option><option>Topp N lond</option></select></label> <!></div> <span style="white-space: nowrap"><a href="/by-month-table/months">Tabell við øllum data</a></span></div> <div class="content svelte-1wlsadb"><div class="main-chart-wrapper svelte-1wlsadb"><div></div></div> <div class="brush-chart-wrapper svelte-1wlsadb"><div></div></div></div></div>');function Wa(f,c){ja(c,!0);let p=s("only_russia"),m=s(10),T=s(void 0),F=s(void 0),r=s("last-3-months"),g=s(_a([])),A=s(_a([])),C=s(_a({data:[],name:""})),D,E,k=s(void 0),S=s(void 0),b=null,e;function w(a){return{name:a.name,data:a.data.map((i,v)=>[t(g)[v],i])}}async function B(){if(t(p)==="top_list"){const a=Ra.series.slice(0,t(m)).map(i=>i.name);e=await ua(a)}else t(p)==="only_russia"?e=await ua(["Russland"]):e=await ua()}Oa(async()=>{await B(),x();const a=t(g)[t(g).length-1],i=new Date;i.setFullYear(a.getFullYear()-6),_(k,{chart:{id:"main_chart",height:"100%",type:"line",zoom:{enabled:!1}},colors:["#e6194B","#ffe119","#3cb44b","#42d4f4","#4363d8","#911eb4","#aaffc3","#f58231","#f032e6","#000075","#800000","#99d8f6","#bfef45","#ffd8b1","#dcbeff","#e5a5d5","#ff8c00","#46f0f0","#fffac8","#fabebe","#008080","#775DD0","#1E90FF","#32CD32","#FF4500","#FF1493","#C71585","#6A5ACD","#20B2AA"],stroke:{width:3,curve:"monotoneCubic"},series:[...t(A).map(u=>w(u))],xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0),_(S,{series:[w(t(C))],chart:{id:"brush_chart",height:"100%",type:"area",brush:{target:"main_chart",enabled:!0},selection:{enabled:!0,xaxis:{min:i.getTime(),max:a.getTime()}},events:{brushScrolled(...u){const d=u[1];console.log("brush selection",d.xaxis.min,d.xaxis.max),b=[d.xaxis.min,d.xaxis.max]}}},colors:["#008FFB"],fill:{type:"gradient",gradient:{opacityFrom:.91,opacityTo:.1}},xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0);const v=(await Ba(async()=>{const{default:u}=await import("../chunks/DzLBnlhl.js");return{default:u}},[],import.meta.url)).default;window.ApexCharts=v,D=new v(t(T),t(k)),E=new v(t(F),t(S)),D.render(),E.render()});function x(){if(e==null)throw new Error("Data not loaded");let a;if(t(r)==="months")a=e.months_data;else if(t(r)==="quarters")a=e.quarters_data;else if(t(r)==="half-year")a=e.half_year_data;else if(t(r)==="years")a=e.years_data;else if(t(r)==="rolling-3-months")a=e.rolling_3_months_data;else if(t(r)==="rolling-6-months")a=e.rolling_6_months_data;else if(t(r)==="rolling-12-months")a=e.rolling_12_months_data;else if(t(r)==="last-3-months")a=e.last_3_months_data;else if(t(r)==="last-6-months")a=e.last_6_months_data;else if(t(r)==="last-12-months")a=e.last_12_months_data;else throw new Error("Invalid range");_(g,a.dates,!0),_(A,a.series,!0),_(C,a.all_series,!0)}function j(){if(t(k)==null||t(S)==null)throw new Error("Chart options not loaded");D.updateSeries([...t(A).map(i=>w(i))]);const a={series:[w(t(C))]};b&&(a.chart={selection:{xaxis:{min:b[0],max:b[1]}}}),E.updateOptions(a)}var q=La(),I=n(q),h=n(I);h.__change=[Pa,x,j];var M=n(h),R=n(M);R.value=R.__value="months";var O=o(R,2);O.value=O.__value="quarters";var P=o(O,2);P.value=P.__value="half-year";var da=o(P,2);da.value=da.__value="years",l(M);var Y=o(M),z=n(Y);z.value=z.__value="last-3-months";var H=o(z,2);H.value=H.__value="last-6-months";var ca=o(H,2);ca.value=ca.__value="last-12-months",l(Y);var ma=o(Y),L=n(ma);L.value=L.__value="rolling-3-months";var N=o(L,2);N.value=N.__value="rolling-6-months";var ha=o(N,2);ha.value=ha.__value="rolling-12-months",l(ma),l(h);var fa=o(h,2),V=n(fa),y=o(n(V),2);y.__change=[Ya,B,x,j];var G=n(y);G.value=G.__value="none";var J=o(G);J.value=J.__value="only_russia";var ga=o(J);ga.value=ga.__value="top_list",l(y),l(V);var Aa=o(V,2);{var Ca=a=>{var i=Ha();i.__change=[za,B,x,j];var v=n(i);v.value=v.__value=1;var u=o(v);u.value=u.__value=2;var d=o(u);d.value=d.__value=3;var Q=o(d);Q.value=Q.__value=4;var U=o(Q);U.value=U.__value=5;var W=o(U);W.value=W.__value=6;var X=o(W);X.value=X.__value=7;var Z=o(X);Z.value=Z.__value=8;var $=o(Z);$.value=$.__value=9;var aa=o($);aa.value=aa.__value=10;var oa=o(aa);oa.value=oa.__value=11;var ta=o(oa);ta.value=ta.__value=12;var ea=o(ta);ea.value=ea.__value=13;var ia=o(ea);ia.value=ia.__value=14;var na=o(ia);na.value=na.__value=15;var la=o(na);la.value=la.__value=16;var ra=o(la);ra.value=ra.__value=17;var pa=o(ra);pa.value=pa.__value=18;var sa=o(pa);sa.value=sa.__value=19;var xa=o(sa);xa.value=xa.__value=20,l(i),va(i,()=>t(m),ka=>_(m,ka)),ya(a,i)};Sa(Aa,a=>{t(p)==="top_list"&&a(Ca)})}l(fa),Ia(2),l(I);var ba=o(I,2),K=n(ba),Da=n(K);Ta(Da,a=>_(T,a),()=>t(T)),l(K);var wa=o(K,2),Ea=n(wa);Ta(Ea,a=>_(F,a),()=>t(F)),l(wa),l(ba),l(q),va(h,()=>t(r),a=>_(r,a)),va(y,()=>t(p),a=>_(p,a)),ya(f,q),qa()}Ma(["change"]);export{Wa as component};
