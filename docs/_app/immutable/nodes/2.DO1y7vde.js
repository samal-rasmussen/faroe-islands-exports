import{i as Ba,_ as Ia}from"../chunks/Cf6U1nxo.js";import{t as Ea,a as ya}from"../chunks/rnQvWc0o.js";import{p as ja,h as p,j as ua,k as l,l as t,g as o,o as qa,s as _,v as s,w as Ma}from"../chunks/CTVezB-V.js";import{d as Ra}from"../chunks/C3isqEZz.js";import{b as da,a as Oa,f as E}from"../chunks/CMzLTdau.js";import{b as Fa}from"../chunks/RE_D-B2j.js";import{o as Pa}from"../chunks/ebdBQxZZ.js";var Ya=(g,c,e)=>{c(),e()},za=async(g,c,e,m)=>{await c(),e(),m()},Ha=async(g,c,e,m)=>{await c(),e(),m()},La=Ea("<select><option>Topp 1</option><option>Topp 2</option><option>Topp 3</option><option>Topp 4</option><option>Topp 5</option><option>Topp 6</option><option>Topp 7</option><option>Topp 8</option><option>Topp 9</option><option>Topp 10</option><option>Topp 11</option><option>Topp 12</option><option>Topp 13</option><option>Topp 14</option><option>Topp 15</option><option>Topp 16</option><option>Topp 17</option><option>Topp 18</option><option>Topp 19</option><option>Topp 20</option></select>"),Na=Ea('<div class="full-height-container svelte-1wlsadb"><div class="controls svelte-1wlsadb"><select><optgroup label="Føst kalendara tíðarskeið"><option>Mánaða</option> <option>ársfjóring</option> <option>Hálvár</option> <option>Ár</option></optgroup><optgroup label="Føst tíðarskeið frá nýggjastu data av"><option>Seinastu 3 mánaðir</option> <option>Seinastu 6 mánaðir</option> <option>Seinastu 12 mánaðir</option></optgroup><optgroup label="Mánaði við rullandi miðal"><option>3 mánaðir</option> <option>6 mánaðir</option> <option>12 mánaðir</option></optgroup></select> <div class="preset-filter-wrapper svelte-1wlsadb"><label style="white-space: nowrap"><span>Individuel lond</span> <select><option>Tilsamans</option><option>Eingin lond</option><option>Bert Russland</option><option>Topp N lond</option></select></label> <!></div> <span style="white-space: nowrap"><a href="/by-month-table/months">Tabell við øllum data</a></span></div> <div class="content svelte-1wlsadb"><div class="main-chart-wrapper svelte-1wlsadb"><div></div></div> <div class="brush-chart-wrapper svelte-1wlsadb"><div></div></div></div></div>');function Xa(g,c){ja(c,!0);let e=p("only_russia"),m=p(10),k=p(void 0),A=p(void 0),r=p("last-3-months"),b=p(ua([])),C=p(ua([])),w=p(ua({data:[],name:""})),T,D,S=p(void 0),B=p(void 0),x=null,i;function h(a){return{name:a.name,data:a.data.map((n,v)=>[o(b)[v],n])}}async function I(){if(o(e)==="top_list"){const a=Oa.series.slice(0,o(m)).map(n=>n.name);i=await E(a)}else if(o(e)==="only_russia")i=await E(["Russland"]);else if(o(e)==="none")i=await E();else if(o(e)==="sum")i=await E();else{const a=o(e);throw new Error("Invalid preset: "+a)}}Pa(async()=>{await I(),y();const a=o(b)[o(b).length-1],n=new Date;n.setFullYear(a.getFullYear()-6),_(S,{chart:{id:"main_chart",height:"100%",type:"line",zoom:{enabled:!1}},colors:["#e6194B","#ffe119","#3cb44b","#42d4f4","#4363d8","#911eb4","#aaffc3","#f58231","#f032e6","#000075","#800000","#99d8f6","#bfef45","#ffd8b1","#dcbeff","#e5a5d5","#ff8c00","#46f0f0","#fffac8","#fabebe","#008080","#775DD0","#1E90FF","#32CD32","#FF4500","#FF1493","#C71585","#6A5ACD","#20B2AA"],stroke:{width:3,curve:"monotoneCubic"},series:[...o(C).map(u=>h(u))],xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0),_(B,{series:[h(o(w))],chart:{id:"brush_chart",height:"100%",type:"area",brush:{target:"main_chart",enabled:!0},selection:{enabled:!0,xaxis:{min:n.getTime(),max:a.getTime()}},events:{brushScrolled(...u){const d=u[1];console.log("brush selection",d.xaxis.min,d.xaxis.max),x=[d.xaxis.min,d.xaxis.max]}}},colors:["#008FFB"],fill:{type:"gradient",gradient:{opacityFrom:.91,opacityTo:.1}},xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0);const v=(await Ia(async()=>{const{default:u}=await import("../chunks/DzLBnlhl.js");return{default:u}},[],import.meta.url)).default;window.ApexCharts=v,T=new v(o(k),o(S)),D=new v(o(A),o(B)),T.render(),D.render()});function y(){if(i==null)throw new Error("Data not loaded");let a;if(o(r)==="months")a=i.months_data;else if(o(r)==="quarters")a=i.quarters_data;else if(o(r)==="half-year")a=i.half_year_data;else if(o(r)==="years")a=i.years_data;else if(o(r)==="rolling-3-months")a=i.rolling_3_months_data;else if(o(r)==="rolling-6-months")a=i.rolling_6_months_data;else if(o(r)==="rolling-12-months")a=i.rolling_12_months_data;else if(o(r)==="last-3-months")a=i.last_3_months_data;else if(o(r)==="last-6-months")a=i.last_6_months_data;else if(o(r)==="last-12-months")a=i.last_12_months_data;else throw new Error("Invalid range");_(b,a.dates,!0),_(C,a.series,!0),_(w,a.all_series,!0)}function j(){if(o(S)==null||o(B)==null)throw new Error("Chart options not loaded");o(e)==="sum"?T.updateSeries([h(o(w))]):T.updateSeries([...o(C).map(n=>h(n))]);const a={series:[h(o(w))]};x&&(a.chart={selection:{xaxis:{min:x[0],max:x[1]}}}),D.updateOptions(a)}var q=Na(),M=l(q),f=l(M);f.__change=[Ya,y,j];var R=l(f),O=l(R);O.value=O.__value="months";var P=t(O,2);P.value=P.__value="quarters";var Y=t(P,2);Y.value=Y.__value="half-year";var ca=t(Y,2);ca.value=ca.__value="years",s(R);var z=t(R),H=l(z);H.value=H.__value="last-3-months";var L=t(H,2);L.value=L.__value="last-6-months";var ma=t(L,2);ma.value=ma.__value="last-12-months",s(z);var ha=t(z),N=l(ha);N.value=N.__value="rolling-3-months";var V=t(N,2);V.value=V.__value="rolling-6-months";var fa=t(V,2);fa.value=fa.__value="rolling-12-months",s(ha),s(f);var ga=t(f,2),G=l(ga),F=t(l(G),2);F.__change=[za,I,y,j];var J=l(F);J.value=J.__value="sum";var K=t(J);K.value=K.__value="none";var Q=t(K);Q.value=Q.__value="only_russia";var ba=t(Q);ba.value=ba.__value="top_list",s(F),s(G);var ka=t(G,2);{var Aa=a=>{var n=La();n.__change=[Ha,I,y,j];var v=l(n);v.value=v.__value=1;var u=t(v);u.value=u.__value=2;var d=t(u);d.value=d.__value=3;var W=t(d);W.value=W.__value=4;var X=t(W);X.value=X.__value=5;var Z=t(X);Z.value=Z.__value=6;var $=t(Z);$.value=$.__value=7;var aa=t($);aa.value=aa.__value=8;var oa=t(aa);oa.value=oa.__value=9;var ta=t(oa);ta.value=ta.__value=10;var ea=t(ta);ea.value=ea.__value=11;var ia=t(ea);ia.value=ia.__value=12;var na=t(ia);na.value=na.__value=13;var la=t(na);la.value=la.__value=14;var sa=t(la);sa.value=sa.__value=15;var ra=t(sa);ra.value=ra.__value=16;var pa=t(ra);pa.value=pa.__value=17;var _a=t(pa);_a.value=_a.__value=18;var va=t(_a);va.value=va.__value=19;var xa=t(va);xa.value=xa.__value=20,s(n),da(n,()=>o(m),Sa=>_(m,Sa)),ya(a,n)};Ba(ka,a=>{o(e)==="top_list"&&a(Aa)})}s(ga),Ma(2),s(M);var wa=t(M,2),U=l(wa),Ca=l(U);Fa(Ca,a=>_(k,a),()=>o(k)),s(U);var Ta=t(U,2),Da=l(Ta);Fa(Da,a=>_(A,a),()=>o(A)),s(Ta),s(wa),s(q),da(f,()=>o(r),a=>_(r,a)),da(F,()=>o(e),a=>_(e,a)),ya(g,q),qa()}Ra(["change"]);export{Xa as component};
