import{i as Bo,_ as jo}from"../chunks/Cf6U1nxo.js";import{t as Ao,a as To}from"../chunks/rnQvWc0o.js";import{p as qo,h as s,j as _o,k as n,l as a,g as t,o as Io,s as _,v as l,w as Mo}from"../chunks/CTVezB-V.js";import{d as Ro}from"../chunks/C3isqEZz.js";import{b as vo,a as Oo,f as uo}from"../chunks/C7RkIz-q.js";import{b as Fo}from"../chunks/RE_D-B2j.js";import{o as Po}from"../chunks/ebdBQxZZ.js";var Yo=(f,c,p)=>{c(),p()},zo=async(f,c,p,h)=>{await c(),p(),h()},Ho=async(f,c,p,h)=>{await c(),p(),h()},Lo=Ao("<select><option>Topp 1</option><option>Topp 2</option><option>Topp 3</option><option>Topp 4</option><option>Topp 5</option><option>Topp 6</option><option>Topp 7</option><option>Topp 8</option><option>Topp 9</option><option>Topp 10</option><option>Topp 11</option><option>Topp 12</option><option>Topp 13</option><option>Topp 14</option><option>Topp 15</option><option>Topp 16</option><option>Topp 17</option><option>Topp 18</option><option>Topp 19</option><option>Topp 20</option></select>"),No=Ao('<div class="full-height-container svelte-1uhwo98"><div class="controls svelte-1uhwo98"><select><optgroup label="Føst kalendara tíðarskeið"><option>Mánaða</option> <option>ársfjóring</option> <option>Hálvár</option> <option>Ár</option></optgroup><optgroup label="Føst tíðarskeið frá nýggjastu data av"><option>Seinastu 3 mánaðir</option> <option>Seinastu 6 mánaðir</option> <option>Seinastu 12 mánaðir</option></optgroup><optgroup label="Mánaði við rullandi miðal"><option>3 mánaðir</option> <option>6 mánaðir</option> <option>12 mánaðir</option></optgroup></select> <div class="preset-filter-wrapper svelte-1uhwo98"><label style="white-space: nowrap"><span>Individuel lond</span> <select><option>Eingin lond</option><option>Bert Russland</option><option>Topp N lond</option></select></label> <!></div> <span style="white-space: nowrap"><a href="/by-month-table/months">Tabell við øllum data</a></span></div> <div class="content svelte-1uhwo98"><div class="main-chart-wrapper svelte-1uhwo98"><div></div></div> <div class="brush-chart-wrapper svelte-1uhwo98"><div></div></div></div></div>');function Xo(f,c){qo(c,!0);let p=s("only_russia"),h=s(10),T=s(void 0),F=s(void 0),r=s("last-3-months"),g=s(_o([])),A=s(_o([])),C=s(_o({data:[],name:""})),D,E,k=s(void 0),S=s(void 0),b=null,e;function w(o){return{name:o.name,data:o.data.map((i,v)=>[t(g)[v],i])}}async function B(){if(t(p)==="top_list"){const o=Oo.series.slice(0,t(h)).map(i=>i.name);e=await uo(o)}else t(p)==="only_russia"?e=await uo(["Russland"]):e=await uo()}Po(async()=>{await B(),x();const o=t(g)[t(g).length-1],i=new Date;i.setFullYear(o.getFullYear()-6),_(k,{chart:{id:"main_chart",height:"100%",type:"line",zoom:{enabled:!1}},colors:["#e6194B","#ffe119","#3cb44b","#42d4f4","#4363d8","#911eb4","#aaffc3","#f58231","#f032e6","#000075","#800000","#99d8f6","#bfef45","#ffd8b1","#dcbeff","#e5a5d5","#ff8c00","#46f0f0","#fffac8","#fabebe","#008080","#775DD0","#1E90FF","#32CD32","#FF4500","#FF1493","#C71585","#6A5ACD","#20B2AA"],stroke:{width:3,curve:"monotoneCubic"},series:[...t(A).map(u=>w(u))],xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0),_(S,{series:[w(t(C))],chart:{id:"brush_chart",height:"100%",type:"area",brush:{target:"main_chart",enabled:!0},selection:{enabled:!0,xaxis:{min:i.getTime(),max:o.getTime()}},events:{brushScrolled(...u){const d=u[1];console.log("brush selection",d.xaxis.min,d.xaxis.max),b=[d.xaxis.min,d.xaxis.max]}}},colors:["#008FFB"],fill:{type:"gradient",gradient:{opacityFrom:.91,opacityTo:.1}},xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0);const v=(await jo(async()=>{const{default:u}=await import("../chunks/DzLBnlhl.js");return{default:u}},[],import.meta.url)).default;window.ApexCharts=v,D=new v(t(T),t(k)),E=new v(t(F),t(S)),D.render(),E.render()});function x(){if(e==null)throw new Error("Data not loaded");let o;if(t(r)==="months")o=e.months_data;else if(t(r)==="quarters")o=e.quarters_data;else if(t(r)==="half-year")o=e.half_year_data;else if(t(r)==="years")o=e.years_data;else if(t(r)==="rolling-3-months")o=e.rolling_3_months_data;else if(t(r)==="rolling-6-months")o=e.rolling_6_months_data;else if(t(r)==="rolling-12-months")o=e.rolling_12_months_data;else if(t(r)==="last-3-months")o=e.last_3_months_data;else if(t(r)==="last-6-months")o=e.last_6_months_data;else if(t(r)==="last-12-months")o=e.last_12_months_data;else throw new Error("Invalid range");_(g,o.dates,!0),_(A,o.series,!0),_(C,o.all_series,!0)}function j(){if(t(k)==null||t(S)==null)throw new Error("Chart options not loaded");D.updateSeries([...t(A).map(i=>w(i))]);const o={series:[w(t(C))]};b&&(o.chart={selection:{xaxis:{min:b[0],max:b[1]}}}),E.updateOptions(o)}var q=No(),I=n(q),m=n(I);m.__change=[Yo,x,j];var M=n(m),R=n(M);R.value=R.__value="months";var O=a(R,2);O.value=O.__value="quarters";var P=a(O,2);P.value=P.__value="half-year";var co=a(P,2);co.value=co.__value="years",l(M);var Y=a(M),z=n(Y);z.value=z.__value="last-3-months";var H=a(z,2);H.value=H.__value="last-6-months";var ho=a(H,2);ho.value=ho.__value="last-12-months",l(Y);var mo=a(Y),L=n(mo);L.value=L.__value="rolling-3-months";var N=a(L,2);N.value=N.__value="rolling-6-months";var fo=a(N,2);fo.value=fo.__value="rolling-12-months",l(mo),l(m);var go=a(m,2),V=n(go),y=a(n(V),2);y.__change=[zo,B,x,j];var G=n(y);G.value=G.__value="none";var J=a(G);J.value=J.__value="only_russia";var bo=a(J);bo.value=bo.__value="top_list",l(y),l(V);var Co=a(V,2);{var Do=o=>{var i=Lo();i.__change=[Ho,B,x,j];var v=n(i);v.value=v.__value=1;var u=a(v);u.value=u.__value=2;var d=a(u);d.value=d.__value=3;var Q=a(d);Q.value=Q.__value=4;var U=a(Q);U.value=U.__value=5;var W=a(U);W.value=W.__value=6;var X=a(W);X.value=X.__value=7;var Z=a(X);Z.value=Z.__value=8;var $=a(Z);$.value=$.__value=9;var oo=a($);oo.value=oo.__value=10;var ao=a(oo);ao.value=ao.__value=11;var to=a(ao);to.value=to.__value=12;var eo=a(to);eo.value=eo.__value=13;var io=a(eo);io.value=io.__value=14;var no=a(io);no.value=no.__value=15;var lo=a(no);lo.value=lo.__value=16;var ro=a(lo);ro.value=ro.__value=17;var po=a(ro);po.value=po.__value=18;var so=a(po);so.value=so.__value=19;var yo=a(so);yo.value=yo.__value=20,l(i),vo(i,()=>t(h),So=>_(h,So)),To(o,i)};Bo(Co,o=>{t(p)==="top_list"&&o(Do)})}l(go),Mo(2),l(I);var wo=a(I,2),K=n(wo),Eo=n(K);Fo(Eo,o=>_(T,o),()=>t(T)),l(K);var xo=a(K,2),ko=n(xo);Fo(ko,o=>_(F,o),()=>t(F)),l(xo),l(wo),l(q),vo(m,()=>t(r),o=>_(r,o)),vo(y,()=>t(p),o=>_(p,o)),To(f,q),Io()}Ro(["change"]);export{Xo as component};
