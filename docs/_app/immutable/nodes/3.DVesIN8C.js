import{H as Ce,s as Ne,g as ze}from"../chunks/Dys-NWOj.js";import{c as Se,b as D,t as q}from"../chunks/BepMncb2.js";import{av as He,h as ge,j as z,k as Ee,aw as ce,l as ye,o as fe,p as j,v as B,U as de,ax as F,ay as ae,m as oe,x as P,q as xe,z as M,b as _e,a as he,az as me,O as ke,w as re,y as ee,as as De,B as $e,M as Me,g,ak as qe,F as Le,aA as we,K as Ae,i as Re,aB as se,f as pe,aC as ue,aD as Oe,aE as ve,aF as Ue,J as Be,aG as Fe,V as Pe,aH as Ve,C as Ge,N as We,s as R,ad as O,ae as ne,W as Ye,P as Je,a5 as N,a7 as U,a6 as T,a4 as J}from"../chunks/BOMHANS_.js";import{s as K}from"../chunks/CAVatqPd.js";import{d as Ke}from"../chunks/zi6PulGB.js";import{f as Xe,b as Ze}from"../chunks/DaYolD9I.js";import{b as Qe}from"../chunks/C9kmxJ6c.js";import{s as je,a as ea}from"../chunks/DYf55cnp.js";import{b as aa}from"../chunks/Caj5cjcj.js";const ie=0,X=1,le=2;function ra(t,e,r,d,E){z&&Ee();var f=t,_=He(),h=ke,m=de,p,i,I,s=(_?ae:oe)(void 0),u=(_?ae:oe)(void 0),a=!1;function v(l,c){a=!0,c&&(_e(b),he(b),me(h));try{l===ie&&r&&(p?re(p):p=P(()=>r(f))),l===X&&d&&(i?re(i):i=P(()=>d(f,s))),l!==ie&&p&&ee(p,()=>p=null),l!==X&&i&&ee(i,()=>i=null),l!==le&&I&&ee(I,()=>I=null)}finally{c&&(me(null),he(null),_e(null),De())}}var b=ge(()=>{if(m===(m=e()))return;let l=z&&ce(m)===(f.data===ye);if(l&&(f=fe(),j(f),B(!1),l=!0),ce(m)){var c=m;a=!1,c.then(y=>{c===m&&(F(s,y),v(X,!0))},y=>{if(c===m)throw F(u,y),v(le,!0),u.v}),z?r&&(p=P(()=>r(f))):xe(()=>{a||v(ie,!0)})}else F(s,m),v(X,!1);return l&&B(!0),()=>m=de});z&&(f=M)}function Z(t,e){return e}function ta(t,e,r,d){for(var E=[],f=e.length,_=0;_<f;_++)Ue(e[_].e,E,!0);var h=f>0&&E.length===0&&r!==null;if(h){var m=r.parentNode;Be(m),m.append(r),d.clear(),S(t,e[0].prev,e[f-1].next)}Fe(E,()=>{for(var p=0;p<f;p++){var i=e[p];h||(d.delete(i.k),S(t,i.prev,i.next)),Pe(i.e,!h)}})}function Q(t,e,r,d,E,f=null){var _=t,h={flags:e,items:new Map,first:null},m=(e&we)!==0;if(m){var p=t;_=z?j($e(p)):p.appendChild(Me())}z&&Ee();var i=null,I=!1,s=qe(()=>{var u=r();return Re(u)?u:u==null?[]:Ae(u)});ge(()=>{var u=g(s),a=u.length;if(I&&a===0)return;I=a===0;let v=!1;if(z){var b=_.data===ye;b!==(a===0)&&(_=fe(),j(_),B(!1),v=!0)}if(z){for(var l=null,c,y=0;y<a;y++){if(M.nodeType===8&&M.data===Le){_=M,v=!0,B(!1);break}var n=u[y],o=d(n,y);c=Ie(M,h,l,null,n,o,y,E,e,r),h.items.set(o,c),l=c}a>0&&j(fe())}z||sa(u,h,_,E,e,d,r),f!==null&&(a===0?i?re(i):i=P(()=>f(_)):i!==null&&ee(i,()=>{i=null})),v&&B(!0),g(s)}),z&&(_=M)}function sa(t,e,r,d,E,f,_){var V,G,$,W;var h=(E&Oe)!==0,m=(E&(ve|ue))!==0,p=t.length,i=e.items,I=e.first,s=I,u,a=null,v,b=[],l=[],c,y,n,o;if(h)for(o=0;o<p;o+=1)c=t[o],y=f(c,o),n=i.get(y),n!==void 0&&((V=n.a)==null||V.measure(),(v??(v=new Set)).add(n));for(o=0;o<p;o+=1){if(c=t[o],y=f(c,o),n=i.get(y),n===void 0){var te=s?s.e.nodes_start:r;a=Ie(te,e,a,a===null?e.first:a.next,c,y,o,d,E,_),i.set(y,a),b=[],l=[],s=a.next;continue}if(m&&na(n,c,o,E),(n.e.f&se)!==0&&(re(n.e),h&&((G=n.a)==null||G.unfix(),(v??(v=new Set)).delete(n))),n!==s){if(u!==void 0&&u.has(n)){if(b.length<l.length){var H=l[0],x;a=H.prev;var C=b[0],w=b[b.length-1];for(x=0;x<b.length;x+=1)be(b[x],H,r);for(x=0;x<l.length;x+=1)u.delete(l[x]);S(e,C.prev,w.next),S(e,a,C),S(e,w,H),s=H,a=w,o-=1,b=[],l=[]}else u.delete(n),be(n,s,r),S(e,n.prev,n.next),S(e,n,a===null?e.first:a.next),S(e,a,n),a=n;continue}for(b=[],l=[];s!==null&&s.k!==y;)(s.e.f&se)===0&&(u??(u=new Set)).add(s),l.push(s),s=s.next;if(s===null)continue;n=s}b.push(n),a=n,s=n.next}if(s!==null||u!==void 0){for(var A=u===void 0?[]:Ae(u);s!==null;)(s.e.f&se)===0&&A.push(s),s=s.next;var k=A.length;if(k>0){var L=(E&we)!==0&&p===0?r:null;if(h){for(o=0;o<k;o+=1)($=A[o].a)==null||$.measure();for(o=0;o<k;o+=1)(W=A[o].a)==null||W.fix()}ta(e,A,L,i)}}h&&xe(()=>{var Y;if(v!==void 0)for(n of v)(Y=n.a)==null||Y.apply()}),pe.first=e.first&&e.first.e,pe.last=a&&a.e}function na(t,e,r,d){(d&ve)!==0&&F(t.v,e),(d&ue)!==0?F(t.i,r):t.i=r}function Ie(t,e,r,d,E,f,_,h,m,p){var i=(m&ve)!==0,I=(m&Ve)===0,s=i?I?oe(E):ae(E):E,u=(m&ue)===0?_:ae(_),a={i:u,v:s,k:f,a:null,e:null,prev:r,next:d};try{return a.e=P(()=>h(t,s,u,p),z),a.e.prev=r&&r.e,a.e.next=d&&d.e,r===null?e.first=a:(r.next=a,r.e.next=a.e),d!==null&&(d.prev=a,d.e.prev=a.e),a}finally{}}function be(t,e,r){for(var d=t.next?t.next.e.nodes_start:r,E=e?e.e.nodes_start:r,f=t.e.nodes_start;f!==d;){var _=Ge(f);E.before(f),f=_}}function S(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ia(t,e){throw new Ce(t,e)}new TextEncoder;const Te=["months","quarters","half-year","years"];function la({params:t}){const{range:e}=t;if(!Te.includes(e))return ia(404)}const fa=()=>[{range:"months"},{range:"quarters"},{range:"half-year"},{range:"years"}],Ca=Object.freeze(Object.defineProperty({__proto__:null,entries:fa,load:la},Symbol.toStringTag,{value:"Module"})),oa=()=>{const t=Ne;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},ua={subscribe(t){return oa().page.subscribe(t)}};var va=(t,e,r)=>{ze(`${aa}/by-month-table/${g(e)}`),r()},ca=q("<option> </option>"),da=q('<th class="svelte-1azhefm"> </th>'),_a=q('<td class="number svelte-1azhefm"> </td>'),ha=q('<tr class="svelte-1azhefm"><td class="sticky svelte-1azhefm"> </td><!></tr>'),ma=q('<div class="wrapper svelte-1azhefm"><div class="controls-container svelte-1azhefm"><label for="range-select">Select Range:</label> <select id="range-select"></select></div> <div class="table-container svelte-1azhefm"><table class="svelte-1azhefm"><thead><tr><th class="sticky svelte-1azhefm"></th><!></tr></thead><tbody class="svelte-1azhefm"></tbody></table></div></div>'),pa=q("<div>Loading...</div>");function Na(t,e){We(e,!0);const[r,d]=ea(),E=()=>je(ua,"$page",r);let f=O(void 0),_=Xe().then(a=>{R(f,a,!0),I(),requestAnimationFrame(()=>{g(i)&&(g(i).scrollLeft=g(i).scrollWidth)})}),h=O(ne(E().params.range)),m=O(ne([])),p=O(ne([])),i=O(void 0);function I(){if(g(f)==null)throw new Error("Data is not loaded");const a=g(f)[g(h)==="months"?"months_data":g(h)==="quarters"?"quarters_data":g(h)==="half-year"?"half_year_data":"years_data"];let v=[a.all_series,...a.series,...a.individual_series];v=v.filter((b,l)=>v.findIndex(c=>c.name===b.name)===l),v.sort((b,l)=>{const c=b.data.at(-1);return l.data.at(-1)-c}),R(m,a.header,!0),R(p,v,!0)}var s=Se(),u=Ye(s);ra(u,()=>_,a=>{var v=pa();D(a,v)},a=>{var v=ma(),b=N(v),l=U(N(b),2);l.__change=[va,h,I],Q(l,21,()=>Te,Z,(x,C)=>{var w=ca(),A={},k=N(w,!0);T(w),J(L=>{A!==(A=g(C))&&(w.value=(w.__value=g(C))??""),K(k,L)},[()=>g(C).charAt(0).toUpperCase()+g(C).slice(1)]),D(x,w)}),T(l),T(b);var c=U(b,2),y=N(c),n=N(y),o=N(n),te=U(N(o));Q(te,17,()=>g(m),Z,(x,C)=>{var w=da(),A=N(w,!0);T(w),J(()=>K(A,g(C))),D(x,w)}),T(o),T(n);var H=U(n);Q(H,21,()=>g(p),Z,(x,C)=>{var w=ha(),A=N(w),k=N(A,!0);T(A);var L=U(A);Q(L,17,()=>g(C).data,Z,(V,G)=>{var $=_a(),W=N($,!0);T($),J(Y=>K(W,Y),[()=>Math.floor(g(G)).toLocaleString()]),D(V,$)}),T(w),J(()=>K(k,g(C).name)),D(x,w)}),T(H),T(y),T(c),Qe(c,x=>R(i,x),()=>g(i)),T(v),Ze(l,()=>g(h),x=>R(h,x)),D(a,v)}),D(t,s),Je(),d()}Ke(["change"]);export{Na as component,Ca as universal};
