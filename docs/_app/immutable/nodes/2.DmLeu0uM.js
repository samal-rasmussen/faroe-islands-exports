import{i as Lo,_ as Po}from"../chunks/pRWVVvGU.js";import{t as Co,b as Fo}from"../chunks/Bg4aOM8V.js";import{V as Ro,W as jo,j as qo,X as Ho,N as Oo,Y as u,Z as co,_ as l,$ as a,g as t,P as Yo,s as d,a0 as p}from"../chunks/CTpHvQ52.js";import{d as Uo}from"../chunks/DTVZMTN0.js";import{b as mo,a as Vo,f as A}from"../chunks/DGt_2B9i.js";import{b as So}from"../chunks/C35ZE9qg.js";import{o as $o}from"../chunks/BhgMRc04.js";import{b as zo}from"../chunks/Czwu1Ia-.js";const Ko=Symbol("is custom element"),Wo=Symbol("is html");function Xo(i,n,e,_){var c=Zo(i);qo&&(c[n]=i.getAttribute(n),i.nodeName==="LINK")||c[n]!==(c[n]=e)&&(e==null?i.removeAttribute(n):typeof e!="string"&&Go(i).includes(n)?i[n]=e:i.setAttribute(n,e))}function Zo(i){return i.__attributes??(i.__attributes={[Ko]:i.nodeName.includes("-"),[Wo]:i.namespaceURI===Ro})}var Ao=new Map;function Go(i){var n=Ao.get(i.nodeName);if(n)return n;Ao.set(i.nodeName,n=[]);for(var e,_=i,c=Element.prototype;c!==_;){e=Ho(_);for(var g in e)e[g].set&&n.push(g);_=jo(_)}return n}var Jo=(i,n,e)=>{n(),e()},Qo=async(i,n,e,_)=>{await n(),e(),_()},oa=async(i,n,e,_)=>{await n(),e(),_()},aa=Co("<select><option>Topp 1</option><option>Topp 2</option><option>Topp 3</option><option>Topp 4</option><option>Topp 5</option><option>Topp 6</option><option>Topp 7</option><option>Topp 8</option><option>Topp 9</option><option>Topp 10</option><option>Topp 11</option><option>Topp 12</option><option>Topp 13</option><option>Topp 14</option><option>Topp 15</option><option>Topp 16</option><option>Topp 17</option><option>Topp 18</option><option>Topp 19</option><option>Topp 20</option></select>"),ta=Co('<div class="full-height-container svelte-1wlsadb"><div class="controls svelte-1wlsadb"><select><optgroup label="Føst kalendara tíðarskeið"><option>Mánaða</option> <option>ársfjóring</option> <option>Hálvár</option> <option>Ár</option></optgroup><optgroup label="Føst tíðarskeið frá nýggjastu data av"><option>Seinastu 3 mánaðir</option> <option>Seinastu 6 mánaðir</option> <option>Seinastu 12 mánaðir</option></optgroup><optgroup label="Mánaði við rullandi miðal"><option>3 mánaðir</option> <option>6 mánaðir</option> <option>12 mánaðir</option></optgroup></select> <div class="preset-filter-wrapper svelte-1wlsadb"><label style="white-space: nowrap"><span>Individuel lond</span> <select><option>Tilsamans</option><option>Eingin lond</option><option>Bert Russland</option><option>Topp N lond</option></select></label> <!></div> <span style="white-space: nowrap"><a>Tabell við øllum data</a></span></div> <div class="content svelte-1wlsadb"><div class="main-chart-wrapper svelte-1wlsadb"><div></div></div> <div class="brush-chart-wrapper svelte-1wlsadb"><div></div></div></div></div>');function va(i,n){Oo(n,!0);let e=u("only_russia"),_=u(10),c=u(void 0),g=u(void 0),v=u("last-3-months"),y=u(co([])),C=u(co([])),T=u(co({data:[],name:""})),x,M,N=u(void 0),I=u(void 0),E=null,s;function b(o){return{name:o.name,data:o.data.map((r,m)=>[t(y)[m],r])}}async function D(){if(t(e)==="top_list"){const o=Vo.series.slice(0,t(_)).map(r=>r.name);s=await A(o)}else if(t(e)==="only_russia")s=await A(["Russland"]);else if(t(e)==="none")s=await A();else if(t(e)==="sum")s=await A();else{const o=t(e);throw new Error("Invalid preset: "+o)}}$o(async()=>{await D(),F();const o=t(y)[t(y).length-1],r=new Date;r.setFullYear(o.getFullYear()-6),d(N,{chart:{id:"main_chart",height:"100%",type:"line",zoom:{enabled:!1}},colors:["#e6194B","#ffe119","#3cb44b","#42d4f4","#4363d8","#911eb4","#aaffc3","#f58231","#f032e6","#000075","#800000","#99d8f6","#bfef45","#ffd8b1","#dcbeff","#e5a5d5","#ff8c00","#46f0f0","#fffac8","#fabebe","#008080","#775DD0","#1E90FF","#32CD32","#FF4500","#FF1493","#C71585","#6A5ACD","#20B2AA"],stroke:{width:3,curve:"monotoneCubic"},series:[...t(C).map(h=>b(h))],xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0),d(I,{series:[b(t(T))],chart:{id:"brush_chart",height:"100%",type:"area",brush:{target:"main_chart",enabled:!0},selection:{enabled:!0,xaxis:{min:r.getTime(),max:o.getTime()}},events:{brushScrolled(...h){const f=h[1];console.log("brush selection",f.xaxis.min,f.xaxis.max),E=[f.xaxis.min,f.xaxis.max]}}},colors:["#008FFB"],fill:{type:"gradient",gradient:{opacityFrom:.91,opacityTo:.1}},xaxis:{type:"datetime",tooltip:{enabled:!1}}},!0);const m=(await Po(async()=>{const{default:h}=await import("../chunks/DzLBnlhl.js");return{default:h}},[],import.meta.url)).default;window.ApexCharts=m,x=new m(t(c),t(N)),M=new m(t(g),t(I)),x.render(),M.render()});function F(){if(s==null)throw new Error("Data not loaded");let o;if(t(v)==="months")o=s.months_data;else if(t(v)==="quarters")o=s.quarters_data;else if(t(v)==="half-year")o=s.half_year_data;else if(t(v)==="years")o=s.years_data;else if(t(v)==="rolling-3-months")o=s.rolling_3_months_data;else if(t(v)==="rolling-6-months")o=s.rolling_6_months_data;else if(t(v)==="rolling-12-months")o=s.rolling_12_months_data;else if(t(v)==="last-3-months")o=s.last_3_months_data;else if(t(v)==="last-6-months")o=s.last_6_months_data;else if(t(v)==="last-12-months")o=s.last_12_months_data;else throw new Error("Invalid range");d(y,o.dates,!0),d(C,o.series,!0),d(T,o.all_series,!0)}function k(){if(t(N)==null||t(I)==null)throw new Error("Chart options not loaded");t(e)==="sum"?x.updateSeries([b(t(T))]):x.updateSeries([...t(C).map(r=>b(r))]);const o={series:[b(t(T))]};E&&(o.chart={selection:{xaxis:{min:E[0],max:E[1]}}}),M.updateOptions(o)}var B=ta(),L=l(B),w=l(L);w.__change=[Jo,F,k];var P=l(w),R=l(P);R.value=R.__value="months";var j=a(R,2);j.value=j.__value="quarters";var q=a(j,2);q.value=q.__value="half-year";var ho=a(q,2);ho.value=ho.__value="years",p(P);var H=a(P),O=l(H);O.value=O.__value="last-3-months";var Y=a(O,2);Y.value=Y.__value="last-6-months";var fo=a(Y,2);fo.value=fo.__value="last-12-months",p(H);var go=a(H),U=l(go);U.value=U.__value="rolling-3-months";var V=a(U,2);V.value=V.__value="rolling-6-months";var bo=a(V,2);bo.value=bo.__value="rolling-12-months",p(go),p(w);var $=a(w,2),z=l($),S=a(l(z),2);S.__change=[Qo,D,F,k];var K=l(S);K.value=K.__value="sum";var W=a(K);W.value=W.__value="none";var X=a(W);X.value=X.__value="only_russia";var wo=a(X);wo.value=wo.__value="top_list",p(S),p(z);var Mo=a(z,2);{var No=o=>{var r=aa();r.__change=[oa,D,F,k];var m=l(r);m.value=m.__value=1;var h=a(m);h.value=h.__value=2;var f=a(h);f.value=f.__value=3;var G=a(f);G.value=G.__value=4;var J=a(G);J.value=J.__value=5;var Q=a(J);Q.value=Q.__value=6;var oo=a(Q);oo.value=oo.__value=7;var ao=a(oo);ao.value=ao.__value=8;var to=a(ao);to.value=to.__value=9;var eo=a(to);eo.value=eo.__value=10;var io=a(eo);io.value=io.__value=11;var no=a(io);no.value=no.__value=12;var so=a(no);so.value=so.__value=13;var ro=a(so);ro.value=ro.__value=14;var lo=a(ro);lo.value=lo.__value=15;var po=a(lo);po.value=po.__value=16;var _o=a(po);_o.value=_o.__value=17;var vo=a(_o);vo.value=vo.__value=18;var uo=a(vo);uo.value=uo.__value=19;var Eo=a(uo);Eo.value=Eo.__value=20,p(r),mo(r,()=>t(_),Bo=>d(_,Bo)),Fo(o,r)};Lo(Mo,o=>{t(e)==="top_list"&&o(No)})}p($);var yo=a($,2),Io=l(yo);Xo(Io,"href",`${zo??""}/by-month-table/months`),p(yo),p(L);var To=a(L,2),Z=l(To),Do=l(Z);So(Do,o=>d(c,o),()=>t(c)),p(Z);var xo=a(Z,2),ko=l(xo);So(ko,o=>d(g,o),()=>t(g)),p(xo),p(To),p(B),mo(w,()=>t(v),o=>d(v,o)),mo(S,()=>t(e),o=>d(e,o)),Fo(i,B),Yo()}Uo(["change"]);export{va as component};
